{"version":3,"file":"query-logger.js","mappings":"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","sources":["webpack://yoast-test-helper/./assets/js/src/query-logger/store.js","webpack://yoast-test-helper/external \"yoast.styledComponents\"","webpack://yoast-test-helper/external [\"wp\",\"data\"]","webpack://yoast-test-helper/external [\"wp\",\"element\"]","webpack://yoast-test-helper/webpack/bootstrap","webpack://yoast-test-helper/webpack/runtime/compat get default export","webpack://yoast-test-helper/webpack/runtime/define property getters","webpack://yoast-test-helper/webpack/runtime/hasOwnProperty shorthand","webpack://yoast-test-helper/webpack/runtime/make namespace object","webpack://yoast-test-helper/./assets/js/src/query-logger/index.js"],"sourcesContent":["import { createReduxStore, register } from \"@wordpress/data\";\n\nconst DEFAULT_STATE = {\n    showDrawer: true,\n}\n\nconst TOGGLE_DRAWER = \"TOGGLE_DRAWER\";\nconst CLOSE_DRAWER = \"CLOSE_DRAWER\";\n\nconst actions = {\n    toggleDrawer() {\n        return {\n            type: TOGGLE_DRAWER,\n        };\n    },\n    closeDrawer() {\n        return {\n            type: CLOSE_DRAWER,\n        }\n    }\n}\n\nconst store = createReduxStore( \"yoast/query-logger\", {\n    reducer( state = DEFAULT_STATE, action ) {\n        switch( action.type ) {\n            case TOGGLE_DRAWER:\n                return {\n                    ...state,\n                    showDrawer: ! state.showDrawer,\n                };\n            case CLOSE_DRAWER:\n                return {\n                    ...state,\n                    showDrawer: false,\n                };\n        }\n        return state;\n    },\n    actions,\n    selectors: {\n        isDrawerOpen( state ) {\n            return state.showDrawer;\n        },\n    }\n} );\n\nregister( store );\n","module.exports = yoast.styledComponents;","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { render, Fragment, useCallback } from \"@wordpress/element\";\nimport { useSelect, useDispatch, AsyncModeProvider, dispatch } from \"@wordpress/data\";\nimport styled from \"styled-components\";\nimport \"./store\";\n\nconst Drawer = styled.div`\n    position: fixed;\n    bottom: 0px;\n    width: 100%;\n    height: 200px;\n    z-index: 10000 !important;\n    display: flex;\n    flex-direction: column;\n    background-color: white;\n`;\n\nconst Bar = styled.div`\n    border-top: 1px solid black;\n    border-bottom: 1px solid black;\n    width: 100%;\n    height: 24px;\n    display: flex;\n    align-items: center;\n    background-color: #ccd0d4;\n\n    button {\n        padding: 0;\n    }\n\n    span.title {\n        margin-left: 4px;\n        flex-grow: 1;\n    }\n`;\n\nconst adminBar = document.getElementById( \"wp-admin-bar-yoast-query-logger\" );\nif ( adminBar ) {\n    adminBar.querySelector( \".ab-item\" ).onclick = ( e ) => {\n        e.preventDefault();\n        dispatch( \"yoast/query-logger\" ).toggleDrawer();\n    };\n}\n\nconst Menu = () => {\n    const { closeDrawer } = useDispatch( \"yoast/query-logger\" );\n\n    return (\n        <Bar>\n            <span className=\"title\">\n                Yoast query monitor\n            </span>\n            <button onClick={ closeDrawer }>\n                <span className=\"dashicons dashicons-no-alt\"></span>\n            </button>\n        </Bar>\n    )\n}\n\nconst QueryLogger = () => {\n    const open = useSelect( select => {\n        return select( \"yoast/query-logger\").isDrawerOpen();\n    }, [] );\n\n    return (\n        <Fragment>\n            { open ? <Drawer><Menu /></Drawer> : null }\n        </Fragment>\n    )\n}\n\njQuery( () => {\n    const box = document.createElement( \"div\" );\n    box.className = \"yoast-query-logger\";\n    \n    document.body.appendChild( box );\n    \n    render(\n        <AsyncModeProvider value={ true }>\n            <QueryLogger />\n        </AsyncModeProvider>\n    , box );\n} );\n"],"names":["createReduxStore","register","DEFAULT_STATE","showDrawer","TOGGLE_DRAWER","CLOSE_DRAWER","actions","toggleDrawer","type","closeDrawer","store","reducer","state","action","selectors","isDrawerOpen","render","Fragment","useCallback","useSelect","useDispatch","AsyncModeProvider","dispatch","styled","Drawer","div","Bar","adminBar","document","getElementById","querySelector","onclick","e","preventDefault","Menu","QueryLogger","open","select","jQuery","box","createElement","className","body","appendChild"],"sourceRoot":""}